# SpaceClaim 几何简化指南 - 高压开关柜电场分析

## 概述

本指南针对 KYN28 高压开关柜静电场分析，提供 SpaceClaim 中的几何简化最佳实践。
目标是在保证分析精度的前提下，使模型能够顺利划分网格。

---

## ⚡ 核心技巧：解决间隙过大电场 (懒人必看)

**核心原则：不要试图“刚好接触”，直接让它们“重叠”！**

Maxwell 的材料优先级规则是：**导体 (Insulator) < 导体 (Conductor)**。
如果您让铜排（导体）“插入”环氧树脂（绝缘体）内部 1mm，Maxwell 会自动认为那 1mm 的空间是铜排。这样就**绝对消除了气隙**。

### 手动操作步骤 (SpaceClaim)
1.  **拉动 (Pull)** (快捷键 `P`)。
2.  选中铜排与绝缘体接触的那个面。
3.  不要往回拉，而是**往里拉**，让它“吃”进绝缘体里 (例如拉入 0.5mm)。
4.  **结果**：几何上看是干涉的，但电场分析中这是最完美的接触，绝对不会有 $10^9$ V/m 的空气击穿电场。

---

## 一、打开模型前的准备

### 1.1 导入设置
```
File → Open → 选择 SAT/SLDASM/X_T 文件
```

**关键选项**：
- ✅ **Heal geometry** - 自动修复几何
- ✅ **Simplify** - 导入时简化
- ❌ **Import hidden components** - 不导入隐藏零件

---

## 二、非电气零件移除

### 2.1 识别并删除

以下零件对电场分析几乎没有影响，应首先移除：

| 类型       | 示例             | 操作          |
| ---------- | ---------------- | ------------- |
| 紧固件     | 螺栓、螺母、铆钉 | 选中 → Delete |
| 装饰件     | 铭牌、标签支架   | 选中 → Delete |
| 活动部件   | 门板铰链、锁具   | 选中 → Delete |
| 非金属小件 | 塑料卡扣、橡胶垫 | 选中 → Delete |

### 2.2 批量选择技巧
```
Design → Selection → Select Similar → By Volume
```
设置体积范围（如 <100 mm³），一次性选中所有小零件。

---

## 三、特征简化

### 3.1 移除小特征

**操作路径**：`Prepare → Simplify → Remove Small Features`

| 特征类型           | 建议阈值 | 说明                              |
| ------------------ | -------- | --------------------------------- |
| 孔洞 (Holes)       | < 8 mm   | 小螺栓孔对电场影响可忽略          |
| 圆角 (Fillets)     | < 5 mm   | 保留 > 5mm 的圆角（影响场强集中） |
| 倒角 (Chamfers)    | < 3 mm   | 大部分可移除                      |
| 短边 (Short Edges) | < 2 mm   | 网格难以捕捉的微小边              |

### 3.2 填补开孔

**操作路径**：`Repair → Missing Faces → Fill Holes`

对于需要保留的板材上的孔（如通风孔阵列），可选择：
- **完全填补** - 简化模型
- **简化为单个大孔** - 保留效果，减少网格

---

## 四、导体处理

### 4.1 合并同电位零件

**操作路径**：`Design → Combine → Merge`

将以下零件合并为单一实体：
- 同一相的母排段
- 外壳框架各部分
- 接地系统各部分
    
### 4.1.1 两个实体合并 (Boolean Union)
**操作路径**：`Design → Intersect → Combine (组合)` (快捷键 `I`)

1. 点击 **Combine (组合)** 按钮。
2. 选中第一个实体作为**目标体 (Target)**。
3. **关键步骤**：在屏幕右侧或左上角的小工具栏中，点击 **"Merge" (合并)** 图标（通常是第二个图标，表示两个物体变一个）。
    - ⚠ 默认是 "Cut" (切割)，不要弄错。
4. 点击第二个实体（要把谁合进来）。
5. 两个实体将变为一个。

**好处**：
- 减少零件数量
- 减少接触面
- 网格数量显著下降

### 4.1.2 同一个零件表面的多余线条去除 (Merge Faces)
**情况 A：两边直径完全一致（只是多了一条线）**
1. 选中中间那条线（圆圈）。
2. 按键盘 **F** (Fill / 填充)。
3. 线条会被移除，两个面自动合并为一个完整的光滑面。
*或者使用：`Repair (修复) → Merge Faces (合并面)`*

**情况 B：两边直径有微小差异（有台阶）**
此时直接删线会报错，需要要把两边拉平：
1. 点击 **Pull (拉动)** (快捷键 `P`)。
2. 选中你想要改变的那个圆柱面。
3. 点击小工具栏里的 **Up To (直到)** 图标（箭头指着线的那个）。
4. 点击另一个你作为基准的圆柱面。
5. 直径变得一样后，中间的线会自动消失。

---

## 五、绝缘件处理

### 5.1 保留关键绝缘件

**必须保留**：
- 支柱绝缘子
- 环氧树脂浇注件
- 绝缘隔板
- 穿墙套管

### 5.2 简化复杂绝缘件

复杂的伞裙可简化为：
```
锥形或圆柱形 → 保留等效爬电距离
```

---

## 六、创建空气域 (全手动懒人版)

### 6.1 自动包络 (Create Region) - 推荐！

手动在 SpaceClaim 画一个大盒子很麻烦，而且容易对不准。请直接去 Maxwell 里操作：

1. **不用在 SpaceClaim 里画空气！** 直接把只包含金属和绝缘体的模型导入 Maxwell。
2. 在 Maxwell 菜单栏：`Modeler` → `Create Region`。
3. **Padding Type**: `Percentage Offset` (百分比)。
4. **Padding Data**: 输入 `50` (代表空气边界离模型在各个方向都远 50%)。
5. 点击 OK。
6. **Assign Material**: 把这个新生成的 `Region` 设为 `vacuum` 或 `air`。
7. **Assign Boundary**: 选中这个 Region 的所有面（6个面） → 右键 `Assign Boundary` → `Voltage` → `0V` (模拟无限远处电位为0)。

这样做的好处：
- 软件自动对齐中心。
- 绝对包得住所有东西。
- 不需要几何布尔运算 subtract。

---

## 七、导出验证

### 7.1 最终检查

| 检查项       | 要求             |
| ------------ | ---------------- |
| 总零件数     | < 50 (简化模型)  |
| 最小特征尺寸 | > 2 mm           |
| 干涉检查     | 无红色警告       |
| 体积检查     | 所有实体体积 > 0 |

### 7.2 导出格式

推荐导出顺序：
1. **SAT** (推荐) - Maxwell 原生支持
2. **Parasolid (.x_t)** - 兼容性好
3. **STEP** - 备选

**导出设置**：
```
File → Save As → ACIS SAT (*.sat)
Options → Version: R2018 或更高
```

---

## 八、快速参考

### 常用快捷键
| 操作     | 快捷键   |
| -------- | -------- |
| 删除     | Delete   |
| 撤销     | Ctrl+Z   |
| 全选     | Ctrl+A   |
| 框选     | 拖动鼠标 |
| 隐藏     | H        |
| 显示全部 | Shift+H  |

### 推荐工作流程
```
1. SpaceClaim: 删废料 -> 拉动铜排制造重叠(修间隙) -> 存为SAT
2. Maxwell: 导入SAT -> 此刻没有空气
3. Maxwell: Modeler > Create Region (自动生成空气) -> 设为空气 -> 设边界0V
4. Maxwell: 加电压 -> 求解
```
